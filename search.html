---
layout: page
title: Defold Search Results
---

{% include learnnav.html showmenu=true %}

<link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/_pagefind/pagefind-ui.js"></script>

<div class="section lightest dark:dark" style="background-color: #fafafa">
	<div class="container">
		<div class="row">
			<div class="columns twelve">
				<h3>Results</h3>
				<div id="pagefind-search"></div>
			</div>
		</div>
	</div>
</div>

<script>
	window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ 
            element: "#pagefind-search",
            pageSize: 10,
            showSubResults: true,
            showImages: false,
            excerptLength: 25,
            resetStyles: false,
            showEmptyFilters: true,
            openFilters: ['section']
        });
		
		// Get search query from URL parameters and populate search
		const urlParams = new URLSearchParams(window.location.search);
		const query = urlParams.get('q');
		if (query) {
			// Wait for Pagefind UI to initialize then set query
			setTimeout(() => {
				const searchInput = document.querySelector('#pagefind-search input[type="text"]');
				if (searchInput) {
					searchInput.value = query;
					// Trigger search
					const event = new Event('input', { bubbles: true });
					searchInput.dispatchEvent(event);
				}
			}, 100);
		}
	});
</script>
